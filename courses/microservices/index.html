<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../reveal.css">
    <link rel="stylesheet" href="../black.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../monokai.css">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h1>Монолитры и микросервисы</h1>
                <p align="right">&copy; <a href="mailto:ipigp@yandex.ru">Игорь Григорьевич Пеймер</a>, 2025 г.</p>
            </section>

            <section>
                <img src="./typical-monolithic-application.webp" height="500"/>
            </section>
            <section>
                <img src="./microservices-architecture-working.webp" height="500"/>
            </section>
            <section>
                <img src="./services-using-virtualization.webp" height="500"/>
            </section>
            <section>
                <img src="./communication-between-services.webp"  height="500"/>
            </section>
            <section>
                <img src="./microservices-using-node-js.webp" height="500"/>
            </section>
            <section>
                <img src="./different-services-with-different-languages.webp"  height="500"/>

            </section>
            <section><section>
                <p>Чтобы продемонстрировать возможности сервис-ориентированной архитектуры с использованием микросервисов Node. js, мы создадим серверную часть приложения Node.js, которая будет отправлять запросы в 3 различных микросервиса с помощью вызовов API и отображать эти данные. </p>
            </section>
            <section>
                <p>Создаем каталог проекта</p>
                <pre><code>mkdir ms</code></pre>
                <p>Создаем конфигурацию проекта (по умолчанию).</p>
                <pre><code>npm init -y</code></pre>
                <p>Для этого приложения нам понадобится сервер Fastify и axios</p>
                <pre><code>npm i fastify axios</code></pre>
                <p>Входим в папку проекта и запускаем IDE</p>
                <pre><code>cd ms
codium .</code></pre>
            </section>
                <section>
<p>Для этой демонстрации мы будем использовать следующие три микросервиса:</p>
<ul>
<li>Bored — API для случайных предложений о том, чем заняться</li>
<li>Cocktail База данных — API для получения подробной информации обо всех напитках</li>
<li>WeatherDB — API для простых прогнозов погоды на основе местоположения</li>
</ul>
                </section>
<section>
    текс моделя на fastify
</section>
            </section>
<section>
    <section>
<h2>Bored API</h2>
    </section>
    <section>
        <p>Bored API — это простой и бесплатный API, который предлагает случайные действия для борьбы со скукой. Он идеально подходит для разработчиков, которые хотят интегрировать случайные действия в свои приложения или веб-сайты. API не требует аутентификации и поддерживает HTTPS-запросы.</p>
        </section>
        <section>
            <p>Для использования Bored API не требуется аутентификация. Вы можете напрямую отправлять запросы в API без использования ключей или токенов API.<br/>

                Разработка мобильного приложения, которое предлагает пользователям случайные действия.
                Интеграция API в веб-сайт, чтобы предлагать посетителям случайные действия.
                Создание чат-бота, который предлагает пользователям случайные действия.</p>
        </section>
        <section>
<pre><code>fetch('https://www.boredapi.com/api/activity')
.then(response => response.json())
.then(data => console.log(data));</code></pre>
        </section>
        <section>
            <p>Ответ на запрос в формате JSON:</p>
            <pre><code>{
    "activity": "Изучить новый язык",
    "type": "Обучение",
    "participants": 1,
    "price": 0,
    "link": "https://www.duolingo.com/",
    "key": "5881028"
}</code></pre>
        </section>
        <section>
            <ul>
<li>API не требует указания каких-либо параметров</li>
<li>"type" в ответе обозначает категорию мероприятия</li>
<li>"participants" показывает количество людей</li>
<li>"price" указывает стоимость мероприятия (0 означает «бесплатно»)</li>
<li>"link" содержит URL-адрес для получения дополнительной информации</li>
                </ul>
        </section>
        <section>
            <p>Получите случайное задание</p>
            <pre><code>GET https://bored-api.appbrewery.com/random</code></pre>
            <pre><code>{
 "activity": "Learn Express.js",
 "availability": 0.25,
 "type": "education",
 "participants": 1,
 "price": 0.1,
 "accessibility": "Few to no challenges",
 "duration": "hours",
 "kidFriendly": true,
 "link": "https://expressjs.com/",
 "key": "3943506"
}</code></pre>
            </section>
            <section>
                <p>Фильтрация<br/>
                    type (необязательно): тип мероприятия для фильтрации. Выбор: education, recreational, social, charity, cooking, relaxation, busywork<br/>
                    participants (необязательно): количество участников для фильтрации. Выбор: 1, 2, 3, 4, 5, 6, 8.
                </p>
                <pre><code>GET https://bored-api.appbrewery.com/filter?type=educationGET https://bored-api.appbrewery.com/filter?type=education</code></pre>
                </section>
                <section><pre><code>[
 {
  "activity": "Learn Express.js",
  "availability": 0.25,
  "type": "education",
  "participants": 1,
  "price": 0.1,
  "accessibility": "Few to no challenges",
  "duration": "hours",
  "kidFriendly": true,
  "link": "https://expressjs.com/",
  "key": "3943506"
 },
 {
  "activity": "Learn React.js",
  "availability": 0.5,
  "type": "education",
  "participants": 1,
  "price": 0.2,
  "accessibility": "Some challenges",
  "duration": "hours",
  "kidFriendly": true,
  "link": "https://reactjs.org/",
  "key": "7890123"
 }
]</code></pre></section>
            <section>
                <p>Получение активности по ключу</p>
<pre><code>GET https://bored-api.appbrewery.com/activity/3943506</code></pre>
<pre><code>{
    "activity": "Learn Express.js",
    "availability": 0.25,
    "type": "education",
    "participants": 1,
    "price": 0.1,
    "accessibility": "Few to no challenges",
    "duration": "hours",
    "kidFriendly": true,
    "link": "https://expressjs.com/",
    "key": "3943506"
  }</code></pre>
            </section>

</section>
<section>
    <section>
    <h2>CoctaiDB</h2>
    </section>
    <section >
<pre><code>
    const response = await fetch('https://www.thecocktaildb.com/api.php', {
        method: 'GET',
        headers: {
            'Content-Type': 'application/json'
        }
    });
    
    const data = await response.json();
    console.log(data);</code></pre>
    </section>
    <section >
        <p>Сдгчайный коктейль</p>
<pre><code>const getRandomDrink = async () => {
    const response = await fetch('https://www.thecocktaildb.com/api/json/v1/1/random.php');
    const data = await response.json();
    return data.drinks;
  }
  
  getRandomDrink()
    .then(data => console.log(data));</code></pre>
    </section>
    </section>
<section >
    <section>
        <h2>WeatherDb</h2>
    </section>
    <section>
<pre><code>https://weatherdbi.herokuapp.com/data/weather/{location}</code></pre>
<pre><code>https://weatherdbi.herokuapp.com/data/weather/{lat,long}</code></pre>
    </section>
</section>

            <section>
                <h3>Заключение</h3>
                <ul>
<li>Один сервис отвечает только за одну задачу</li>
<li>Друг с другом взаимодействуют через API</li>
<li>Микросервисы Node.js созданы для устранения недостатков монолитной архитектуры</li>
</ul>
            </section>
        </div>
    </div>

    <script src="../reveal.js"></script>
    <script src="../notes.js"></script>
    <!-- <script src="markdown.js"></script> -->
    <!-- <script src="../math/math.js"></script> -->
    <script src="../highlight.js"></script>
    <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            showSlideNumber: 'all',
            slideNumber: "true",
            // Learn about plugins:</b> https://revealjs.com/plugins/
            plugins: [RevealHighlight, RevealNotes]
            // plugins: [RevealHighlight, RevealNotes, RevealMath.KaTeX]
        });
    </script>
</body>

</html>