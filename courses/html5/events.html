<!doctype html>
<html lang="ru">

    <head>
        <meta charset="utf-8">
        <meta name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="../reveal.css">
        <link rel="stylesheet" href="../black.css">

        <!-- Theme used for syntax highlighted code -->
        <link rel="stylesheet" href="../monokai.css">
    </head>

    <body>
        <div class="reveal">
            <div class="slides">
                <section>
                    <h1>События HTML5 и Javascript</h1>
					<p align="right">&copy; <a href="mailto:ipigp@yandex.ru">IGP</a>, январь 2025 г.</p>
                </section>
                <section>
                    <p>Для взаимодействия с пользователем в JavaScript определен
                        механизм событий.
                        Например, когда пользователь нажимает кнопку, то
                        возникает событие нажатия кнопки.
                        Аналогично когда пользователь вводит в текстовое поле
                        текст, возникает событие этого текстового
                        поля.
                        В коде JavaScript мы можем определить возникновение
                        события и как-то его обработать.</p>
                </section>
                <section>
                    <p>Сначала собственно происходит событие, например,
                        пользователь нажал на кнопку.
                        Объект, который сгенерировал событие, еще называется
                        эмиттером/эмитентом события.
                        После того как произошло событие, оно помещается в
                        очередь событий (event queue), что
                        гарантирует, что события, которые
                        были сгенерированы первыми, также будут обработаны в
                        первую очередь.
                    </p>
                </section>
                <section>
                    <p>Цикл событий (event loop) постоянно проверяет, есть ли
                        новое событие в очереди событий, и если
                        оно есть, соответствующее событие пересылается
                        обработчикам событий (event handler). В
                        JavaScript эти обработчики событий представляют собой
                        простые функции, которые позволяют
                        отреагировать на возникшее событие.
                        Подобный подход еще называют событийным
                        программированием (event-driven programming).</p>
                </section>
                <section>
                    <img src="./14.png" />
                </section>
                <section>
                    <p>Если для события не определено обработчиков, то для него
                        выполняется действие, которое определено
                        браузером по умолчанию.</p>
                    <p>В JavaScript есть следующие типы событий:</p>
                    <ul>
                        <li>События мыши (перемещение курсора, нажатие мыши и
                            т.д.)</li>
                        <li>События клавиатуры (нажатие или отпускание клавиши
                            клавиатуры)</li>
                        <li>События жизненного цикла элементов (например,
                            событие загрузки веб-станицы)</li>
                    </ul>
                </section>
                <section>
                    <ul>
                        <li>События элементов форм (нажатие кнопки на форме,
                            выбор элемента в выпадающем списке и т.д.)</li>
                        <li>События, возникающие при изменении элементов
                            DOM</li>
                        <li>События, возникающие при касании на сенсорных
                            экранах</li>
                        <li>События, возникающие при возникновении ошибок</li>
                    </ul>
                </section>
                <section>
                    <p>Применение событий не ограничены только графическим
                        интерфейсом, однако графический интерфейс &mdash;
                        наиболее показательная
                        сфера применения событий.</p>

                </section>
                <section>
                    <h4>События мыши</h4>
                    <pre>
click &mdash; возникает при нажатии указателем мыши на элемент
dblclick &mdash; возникает при двойном нажатии указателем мыши на элемент
contextmenu &mdash; возникает при открытии контекстного меню (правой кнопкой мыши)
mousedown &mdash; возникает при нахождении указателя мыши на элементе, 
            когда кнопка мыши находится в нажатом состоянии
mouseup &mdash; возникает при нахождении указателя мыши на элементе 
            во время отпускания кнопки мыши
mousemove &mdash; возникает при прохождении указателя мыши над элементом
mouseover &mdash; возникает при вхождении указателя мыши в границы элемента
mouseout &mdash; возникает, когда указатель мыши выходит за пределы элемента            
mouseenter &mdash; возникает при вхождении указателя мыши в границы элемента
mouseleave &mdash; возникает, когда указатель мыши выходит за пределы элемента
                </pre>
                </section>
                <section>
                    <h4>События клавиатуры</h4>
                    <pre>
keydown &mdash; возникает при нажатии клавиши клавиатуры и длится, пока нажата клавиша                    
keyup &mdash; возникает при отпускании клавиши клавиатуры
keypress &mdash; возникает при нажатии клавиши клавиатуры, но после события keydown 
             и до события keyup.                    
                </pre>
                </section>
                <section>
                    <h4>События элементов форм</h4>
                    <pre>
input &mdash; возникает при изменении текста в элементах &lt;input&gt; и &lt;textarea&gt; 
          или в элемент с атрибутом contenteditable
change &mdash; возникает при изменении значения в списках, флажках (checkbox) или радиокнопках
submit &mdash; возникает при отправке формы
reset &mdash; возникает при сбросе формы (через кнопку reset)
                </pre>
                </section>
                <section>
                    <h4>События фокусировки</h4>
                    <pre>
focus &mdash; возникает при получении фокуса
blur &mdash; возникает при потере фокуса
focusin &mdash; возникает при получении фокуса (в отличие от события focus, это событие 
            поднимающееся. Про поднимающиеся и опускающиеся события далее)
focusout &mdash; возникает при потере фокуса(это событие поднимающееся в отличие 
             от события blur)
                </pre>
                </section>
                <section>
                    <h4>Cобытия интерфейса</h4>
                    <pre>
load &mdash; возникает при загрузке веб-страницы
unload &mdash; возникает при выгрузке веб-страницы (например, когда запрошена 
           страница по новому адресу)
abort &mdash; возникает при отмене загрузки ресурса
Error &mdash; возникает при генерации ошибки при загрузке страницы (например, 
          ошибка в коде JavaScript)
select &mdash; возникает при выделении текст на странице
resize &mdash; возникает при изменении размеров окна браузера
scroll &mdash; возникает при прокрутке
cut &mdash; возникает при вырезании текста из поля ввода (например, с помощью Ctrl+X)
copy &mdash; возникает при копировании текста из поля ввода (например, с помощью Ctrl+C)
paste &mdash; возникает при вставке текста в поле ввода (например, с помощью Ctrl+V)
select &mdash; возникает при выделении текста в поле ввода
                </pre>
                </section>
                <section>
                    <h4>Встроенные обработчики событий</h4>
                    <p>Это так называемые встроенные обработчики или
                        inline-обработчики, которые определяются в коде элемента
                        с помощью атрибутов. Подобные атрибуты начинаются с
                        префикса on. </p>
                    <pre><code data-trim>
                            &lt;body&gt;
                                &lt;button onclick="console.log('Clicked!')"&gt;Click&lt;/button&gt;
                            &lt;/body&gt;
                        </code></pre>
                    <p>Можно определить несколько инструкций подобным
                        образом</p>
                </section>
                <section>
                    <h4>Слушатели событий</h4>
                    <p>Для работы со слушателями событий в JavaScript есть
                        объект EventTarget, который определяет методы
                        addEventListener() (для добавления слушателя) и
                        removeEventListener() для удаления слушателя.</p>
                    <pre><code data-trim>
                            &lt;button id="btn"&gt;Click Me&lt;/button&gt;
                            &lt;script&gt;
                                let clicks = 0;     // счетчик нажатий
                                function btn_click(){
                                    console.log("Clicked", ++clicks);
                                }
                                const btn = document.getElementById("btn");
                                // прикрепляем обработчик события "click"
                                btn.addEventListener("click", btn_click);
                            &lt;/script&gt;
                        </code></pre>
                </section>
                <section>
                    <h4>Передача данных в обработчик события</h4>
                    <pre><code data-trim>
                        &lt;button id="btn" onclick="btn_click('Clicked')"&gt;Click Me&lt;/button&gt;
                    </code></pre>
                </section>
                <section>
                    <h4>Объект Event</h4>
                    <p>При обработке события браузер автоматически передает в
                        функцию обработчика в качестве параметра объект Event,
                        который инкапсулирует всю информацию о событии.</p>
                </section>
                <section>
                    <ul>
                        <li>bubbles: является ли восходящим событием. </li>
                        <li> cancelable: можно ли отменить стандартную обработку события</li>
                        <li>currentTarget: определяет элемент, к которому
                            прикреплен обработчик события</li>
                        <li>defaultPrevented: если был вызван у
                            объекта Event метод preventDefault()</li>
                    </ul>
                </section>
                <section>
                    <ul>
                        <li>eventPhase: стадия обработки события:
                            <ul>
                                <li> 0 (Event.NONE)</li>
                                <li> 1 (Event.CAPTURING_PHASE)</li>
                                <li> 2 (Event.AT_TARGET)</li>
                                <li> 3 (Event.BUBBLING_PHASE)</li>
                            </ul></li>
                        <li> target: указывает на элемент, на котором было
                            вызвано событие</li>
                        <li>timeStamp: время возникновения события</li>
                        <li>type: имя события</li>
                        <li>isTrusted: событие было сгенерировано элементами веб-страницы или кодом JavaScript</li>
                    </ul>
                </section>
                <section>
                    <h4>Остановка выполнения события</h4>
                    <p>С помощью метода preventDefault() объекта Event можно остановить дальнейшее выполнение события. </p>
                </section>
                <section>
                    <h4>События мыши</h4>
                    <p>Для работы с событиями указателя мыши определен объект MouseEvent.</p>
<pre>
<b>altKey</b> &mdash;  возвращает true, если была нажата клавиша Alt во время генерации события
<b>button</b> &mdash;  содержит номер нажатой кнопки мыши
<b>buttons</b> &mdash;  содержит номер, который представляет нажатую кнопку мыши. 
                   1 &mdash; обозначает левую кнопку мыши, 2 &mdash; правую кнопку мыши
<b>clientX</b> &mdash;  определяет координату Х окна браузера
<b>clientY</b> &mdash;  определяет координату Y окна браузера
<b>ctrlKey</b> &mdash;  возвращает true, если была нажата клавиша Ctrl во время генерации события
<b>movementX</b> &mdash;  содержит координату Х относительно предыдущей координаты 
<b>movementY</b> &mdash;  содержит координату Y относительно предыдущей координаты 
<b>metaKey</b> &mdash;  нажата ли метаклавиша клавиатуры
<b>region</b> &mdash;  содержит идентификатор области или элемента, которая относится к событию
<b>relatedTarget</b> &mdash;  определяет вторичный источник возникновения события
<b>screenX</b> &mdash;  определяет координату Х относительно верхнего левого угла экрана монитора
<b>screenY</b> &mdash;  определяет координату Y относительно верхнего левого угла экрана монитора
<b>shiftKey</b> &mdash; нажата ли клавиша Shift во время генерации события
</pre>
                </section>
                <section>
                    <h4>События клавиатуры</h4>
                    <pre>
<b>altKey</b> &mdash; возвращает true, если была нажата клавиша Alt во время генерации события
<b>key</b> &mdash; возвращает символ нажатой клавиши
<b>code</b> &mdash; возвращает строковое представление нажатой клавиши физической клавиатуры QWERTY
<b>ctrlKey</b> &mdash; была ли нажата клавиша Ctrl во время генерации события
<b>metaKey</b> &mdash; была ли нажата во время генерации события метаклавиша клавиатуры
<b>shiftKey</b> &mdash; была ли нажата клавиша Shift во время генерации события
                    </pre>
                </section>
            </div>
        </div>
        <script src="../reveal.js"></script>
        <script src="../notes.js"></script>
        <!-- <script src="markdown.js"></script> -->
        <script src="../highlight.js"></script>
        <script>
        // More info about initialization & config:
        // - https://revealjs.com/initialization/
        // - https://revealjs.com/config/
        Reveal.initialize({
            hash: true,
            showSlideNumber: 'all',
            slideNumber: "true",
            // Learn about plugins:</b> https://revealjs.com/plugins/
            plugins: [RevealHighlight, RevealNotes]
        });
    </script>
    </body>

</html>